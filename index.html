<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<title>Christmas Love</title>

<style>
:root {
  --bg-top: #0f2a52;
  --bg-bottom: #071a33;
  --tree: #2dff88;
  --star: #ffe66d;
  --love: #ff4d6d;
  --sub: #ffd166;
}

* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
  color: white;
  overflow: hidden;
}

.wrapper {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 24px 16px;
  text-align: center;
}

/* Tree */
.tree { margin-bottom: 32px; line-height: 1.2; }

.star {
  font-size: 9vw;
  max-font-size: 42px;
  color: var(--star);
  text-shadow: 0 0 18px var(--star);
  animation: glow 2s infinite alternate;
}

.layer {
  font-size: 5.5vw;
  max-font-size: 26px;
  color: var(--tree);
  text-shadow: 0 0 12px rgba(45,255,136,0.8);
}

.trunk { font-size: 5vw; color: #7dffb3; }

/* Text */
.love {
  font-size: 8vw;
  max-font-size: 42px;
  font-weight: bold;
  letter-spacing: 3px;
  color: var(--love);
  text-shadow:
    0 0 10px var(--love),
    0 0 30px var(--love),
    0 0 60px rgba(255,77,109,0.8);
  min-height: 3em;
}

.sub {
  margin-top: 12px;
  font-size: 4.5vw;
  max-font-size: 20px;
  color: var(--sub);
  opacity: 0;
  transition: opacity 2s ease;
}

/* Play hint */
.play-hint {
  margin-top: 18px;
  font-size: 16px;
  color: #ffffffcc;
  cursor: pointer;
  animation: blink 1.5s infinite;
}

/* Snow */
.snow {
  position: absolute;
  top: -10px;
  color: white;
  opacity: 0.9;
  animation: fall linear infinite;
  pointer-events: none;
}

@keyframes fall { to { transform: translateY(110vh); } }
@keyframes glow {
  from { text-shadow: 0 0 10px var(--star); }
  to   { text-shadow: 0 0 30px var(--star); }
}
@keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0.4; }
  100% { opacity: 1; }
}
</style>
</head>

<body>

<!-- üéµ Music -->
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/12/06/audio_1d1c3fa0cc.mp3?filename=christmas-joy-126424.mp3" type="audio/mpeg">
</audio>

<div class="wrapper">

  <div class="tree">
    <div class="star">‚òÖ</div>
    <div class="layer">***</div>
    <div class="layer">*****</div>
    <div class="layer">*******</div>
    <div class="layer">*********</div>
    <div class="layer">***********</div>
    <div class="trunk">|||</div>
  </div>

  <div id="loveText" class="love"></div>
  <div id="subText" class="sub">‡∏£‡∏±‡∏Å‡πÑ‡∏≠‡∏´‡∏°‡∏π‡∏≠‡πâ‡∏ß‡∏ô</div>

  <div id="playHint" class="play-hint">
    ‚ñ∂ Click / Tap to play music üéµ
  </div>

</div>

<script>
/* Messages */
const messages = [
  "I LOVE YOU BABE",
  "You are my happiness",
  "Every day, every moment",
  "Merry Christmas Kub"
];

let line = 0, char = 0;
const speed = 120;

const loveText = document.getElementById("loveText");
const subText = document.getElementById("subText");

/* Typing */
function typeEffect() {
  if (line < messages.length) {
    if (char < messages[line].length) {
      loveText.innerHTML += messages[line].charAt(char++);
      setTimeout(typeEffect, speed);
    } else {
      loveText.innerHTML += "<br>";
      line++; char = 0;
      setTimeout(typeEffect, 500);
    }
  } else {
    subText.style.opacity = 1;
  }
}
typeEffect();

/* Snow */
function snow() {
  const s = document.createElement("div");
  s.className = "snow";
  s.innerHTML = "‚ùÑ";
  s.style.left = Math.random() * window.innerWidth + "px";
  s.style.fontSize = 8 + Math.random() * 16 + "px";
  s.style.animationDuration = 4 + Math.random() * 6 + "s";
  document.body.appendChild(s);
  setTimeout(() => s.remove(), 10000);
}
setInterval(snow, 150);

/* üîä Audio fix: ‡∏Ñ‡∏≠‡∏° + ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
const music = document.getElementById("music");
const hint = document.getElementById("playHint");

function playMusic() {
  music.play();
  hint.style.display = "none";
}

document.addEventListener("click", playMusic, { once: true });
document.addEventListener("touchstart", playMusic, { once: true });
document.addEventListener("keydown", playMusic, { once: true });
</script>

</body>
</html>
